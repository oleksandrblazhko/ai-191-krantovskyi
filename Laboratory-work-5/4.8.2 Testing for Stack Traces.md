Цей вміст було об’єднано в: Тестування на неправильну обробку помилок.

# Тестування на неправильну обробку помилок
# Підсумок

Усі типи програм (веб-програми, веб-сервери, бази даних тощо) генеруватимуть помилки з різних причин. Розробники часто ігнорують обробку цих помилок або відкидають ідею, що користувач коли-небудь спробує навмисно викликати помилку ( наприклад , надсилання рядка, де очікується ціле число). Коли розробник розглядає лише щасливий шлях, він забуває про всі інші можливі дії користувача, які код може отримати, але не може обробити.

Іноді виникають такі помилки:

- трасування стека,
- тайм-аути мережі,
- невідповідність вхідних даних,
- дампи пам'яті.

# Цілі тесту
Визначте існуючий вихід помилки.
Проаналізуйте різні отримані результати.
# Як тестувати
Помилки зазвичай вважаються нешкідливими, оскільки вони надають діагностичні дані та повідомлення, які можуть допомогти користувачеві зрозуміти суть проблеми або розробнику для усунення цієї помилки.

Намагаючись надіслати неочікувані дані або примушуючи систему до певних граничних ситуацій і сценаріїв, система або програма в більшості випадків видаватиме трохи інформації про те, що відбувається всередині, якщо розробники не вимкнуть усі можливі помилки та не повернуть певне спеціальне повідомлення.

## Веб-сервери
Усі веб-програми працюють на веб-сервері, інтегрованому чи повноцінному. Веб-програми повинні обробляти та аналізувати HTTP-запити, і для цього веб-сервер завжди є частиною стеку. Одними з найвідоміших веб-серверів є NGINX, Apache та IIS.

Веб-сервери мають відомі повідомлення про помилки та формати. Якщо хтось не знає, як вони виглядають, пошук в Інтернеті надасть приклади. Іншим способом було б переглянути їхню документацію або просто налаштувати сервер локально та виявити помилки, переглянувши сторінки, які використовує веб-сервер.

Щоб ініціювати повідомлення про помилки, тестер повинен:

- Пошук випадкових файлів і папок, які не будуть знайдені (404s).
- Спробуйте запитати існуючі папки та подивіться поведінку сервера (403, порожня сторінка або перелік каталогу).
- Спробуйте надіслати запит, який порушує HTTP RFC . Одним із прикладів може бути надсилання дуже великого шляху, порушення формату заголовків або зміна версії HTTP.
- Навіть якщо помилки обробляються на рівні програми, порушення HTTP RFC може змусити інтегрований веб-сервер проявити себе, оскільки він має обробити запит, а розробники забувають перевизначити ці помилки.
## Додатки
Програми найбільш сприйнятливі до випуску різноманітних повідомлень про помилки, які включають: трасування стека, дампи пам’яті, неправильно оброблені винятки та загальні помилки. Це відбувається через те, що програми найчастіше створюються на замовлення, і розробникам потрібно спостерігати та обробляти всі можливі випадки помилок (або мати глобальний механізм відлову помилок), і ці помилки можуть виникати через інтеграцію з іншими службами.

Щоб змусити програму видавати ці помилки, тестувальник повинен:

- Визначте можливі точки введення, де програма очікує дані.
- Проаналізуйте очікуваний тип введення (рядки, цілі числа, JSON, XML тощо).
- Розташуйте кожну вхідну точку на основі попередніх кроків, щоб отримати більш зосереджений тестовий сценарій.
- Розчісування кожного вводу з усіма можливими ін’єкціями — не найкраще рішення, якщо у вас немає необмеженого часу на тестування, а програма може обробляти таку кількість вводу.
- Якщо фаззинг не є варіантом, виберіть вручну життєздатні вхідні дані, які мають найвищий шанс зламати певний аналізатор ( наприклад , закриваюча дужка для тіла JSON, великий текст, де очікується лише пара символів, ін’єкція CLRF із параметрами, які можуть бути аналізується серверами та елементами керування перевіркою введення, спеціальні символи, які не застосовуються до імен файлів тощо).
- Fuzzing з жаргонними даними слід запускати для кожного типу, оскільки інколи інтерпретатори виходять з ладу поза обробкою винятків розробником.
- Зрозумійте, яка служба відповідає повідомленням про помилку, і спробуйте створити більш уточнений список нечітких елементів, щоб отримати більше інформації чи подробиць про помилку з цієї служби (це може бути база даних, окрема служба тощо).
